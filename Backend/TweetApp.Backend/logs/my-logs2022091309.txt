{"@t":"2022-09-13T09:27:26.3986695Z","@mt":"Starting web host"}
{"@t":"2022-09-13T09:27:28.8273591Z","@mt":"Storing keys in a directory '{path}' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.","@l":"Warning","path":"/root/.aspnet/DataProtection-Keys","EventId":{"Id":60,"Name":"UsingEphemeralFileSystemLocationInContainer"},"SourceContext":"Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository"}
{"@t":"2022-09-13T09:27:28.8953916Z","@mt":"No XML encryptor configured. Key {KeyId:B} may be persisted to storage in unencrypted form.","@r":["{04c82590-4e03-4a04-84f6-75647581251e}"],"@l":"Warning","KeyId":"04c82590-4e03-4a04-84f6-75647581251e","EventId":{"Id":35,"Name":"NoXMLEncryptorConfiguredKeyMayBePersistedToStorageInUnencryptedForm"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}
{"@t":"2022-09-13T09:27:29.4455788Z","@mt":"Now listening on: {address}","address":"https://[::]:443","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:27:29.4583761Z","@mt":"Now listening on: {address}","address":"http://[::]:80","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:27:29.4711486Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:27:29.4741079Z","@mt":"Hosting environment: {envName}","envName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:27:29.4785264Z","@mt":"Content root path: {contentRoot}","contentRoot":"/app/","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:28:45.3317355Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}:{providerVersion}' with options: {options}","version":"6.0.8","contextType":"ApplicationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","providerVersion":"6.0.8","options":"None","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"2e3ae5c9-d772-4557-8e3e-c89eca87f33c","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLD8N9VHUG:0000000F","RequestPath":"/api/v1/tweets/login","ConnectionId":"0HMKLD8N9VHUG"}
{"@t":"2022-09-13T09:29:03.6570102Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"tweetappapi","server":"tcp:tweetapp-server-atman.database.windows.net,1433","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"2e3ae5c9-d772-4557-8e3e-c89eca87f33c","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLD8N9VHUG:0000000F","RequestPath":"/api/v1/tweets/login","ConnectionId":"0HMKLD8N9VHUG"}
{"@t":"2022-09-13T09:29:03.7560413Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Database 'tweetappapi' on server 'tweetapp-server-atman.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{1E8D4366-87BF-41E2-9B1A-0EA093929F96}'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CheckPoolBlockingPeriod(Exception e)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\nClientConnectionId:7b30095a-0cc9-4b08-8844-68d6c17dd240\nError Number:40613,State:1,Class:20\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","contextType":"TweetApp.Backend.Repository.ApplicationDbContext","newline":"\n","error":"System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure' to the 'UseSqlServer' call.\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Database 'tweetappapi' on server 'tweetapp-server-atman.database.windows.net' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{1E8D4366-87BF-41E2-9B1A-0EA093929F96}'.\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CheckPoolBlockingPeriod(Exception e)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)\n   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\nClientConnectionId:7b30095a-0cc9-4b08-8844-68d6c17dd240\nError Number:40613,State:1,Class:20\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"2e3ae5c9-d772-4557-8e3e-c89eca87f33c","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLD8N9VHUG:0000000F","RequestPath":"/api/v1/tweets/login","ConnectionId":"0HMKLD8N9VHUG"}
{"@t":"2022-09-13T09:29:03.9099860Z","@mt":"Invalid username or password","@l":"Error","SourceContext":"TweetApp.Backend.Controllers.UsersController","ActionId":"2e3ae5c9-d772-4557-8e3e-c89eca87f33c","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLD8N9VHUG:0000000F","RequestPath":"/api/v1/tweets/login","ConnectionId":"0HMKLD8N9VHUG"}
{"@t":"2022-09-13T09:29:05.8655072Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["22468.6951"],"RequestMethod":"POST","RequestPath":"/api/v1/tweets/login","StatusCode":200,"Elapsed":22468.6951,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","ActionId":"2e3ae5c9-d772-4557-8e3e-c89eca87f33c","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLD8N9VHUG:0000000F","ConnectionId":"0HMKLD8N9VHUG"}
{"@t":"2022-09-13T09:34:41.5050625Z","@mt":"Starting web host"}
{"@t":"2022-09-13T09:34:43.8332702Z","@mt":"Storing keys in a directory '{path}' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.","@l":"Warning","path":"/root/.aspnet/DataProtection-Keys","EventId":{"Id":60,"Name":"UsingEphemeralFileSystemLocationInContainer"},"SourceContext":"Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository"}
{"@t":"2022-09-13T09:34:43.9018562Z","@mt":"No XML encryptor configured. Key {KeyId:B} may be persisted to storage in unencrypted form.","@r":["{2c9b02e7-bd70-4f1f-8d4e-d6d0d8744b52}"],"@l":"Warning","KeyId":"2c9b02e7-bd70-4f1f-8d4e-d6d0d8744b52","EventId":{"Id":35,"Name":"NoXMLEncryptorConfiguredKeyMayBePersistedToStorageInUnencryptedForm"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}
{"@t":"2022-09-13T09:34:44.4251686Z","@mt":"Now listening on: {address}","address":"https://[::]:443","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:34:44.4266597Z","@mt":"Now listening on: {address}","address":"http://[::]:80","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:34:44.4510016Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:34:44.4552059Z","@mt":"Hosting environment: {envName}","envName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:34:44.4575525Z","@mt":"Content root path: {contentRoot}","contentRoot":"/app/","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2022-09-13T09:34:56.7288939Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}:{providerVersion}' with options: {options}","version":"6.0.8","contextType":"ApplicationDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","providerVersion":"6.0.8","options":"None","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"0daf026b-86fa-4f84-be3a-64b67aa27515","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLDCOOFREH:0000000F","RequestPath":"/api/v1/tweets/login","ConnectionId":"0HMKLDCOOFREH"}
{"@t":"2022-09-13T09:35:02.6751145Z","@mt":"Invalid username or password","@l":"Error","SourceContext":"TweetApp.Backend.Controllers.UsersController","ActionId":"0daf026b-86fa-4f84-be3a-64b67aa27515","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLDCOOFREH:0000000F","RequestPath":"/api/v1/tweets/login","ConnectionId":"0HMKLDCOOFREH"}
{"@t":"2022-09-13T09:35:04.6425303Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["10108.5198"],"RequestMethod":"POST","RequestPath":"/api/v1/tweets/login","StatusCode":200,"Elapsed":10108.5198,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","ActionId":"0daf026b-86fa-4f84-be3a-64b67aa27515","ActionName":"TweetApp.Backend.Controllers.UsersController.Login (TweetApp.Backend)","RequestId":"0HMKLDCOOFREH:0000000F","ConnectionId":"0HMKLDCOOFREH"}
